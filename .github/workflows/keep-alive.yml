name: Keep Tunnel Alive

on:
  schedule:
    - cron: "*/5 * * * *"  # every 5 minutes

jobs:
  ping-server:
    runs-on: ubuntu-latest
    steps:
      - name: Ping Minecraft server
        run: |
          echo "🔁 Sending keep-alive ping to ${{ secrets.CF_TUNNEL_DOMAIN }}"
          nc -z -v -w3 ${{ secrets.CF_TUNNEL_DOMAIN }} 25565 || echo "❌ Server not reachable"
